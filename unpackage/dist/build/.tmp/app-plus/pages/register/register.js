(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"60e2":function(e,t,n){"use strict";n.r(t);var o=n("a4ab"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},"705c":function(e,t,n){"use strict";var o,s=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o})},"7c87":function(e,t,n){"use strict";var o=n("bb39"),s=n.n(o);s.a},"8af2":function(e,t,n){"use strict";n.r(t);var o=n("705c"),s=n("60e2");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);n("7c87");var r,a=n("f0c5"),c=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,"1c3b2c14",null,!1,o["a"],r);t["default"]=c.exports},9438:function(e,t,n){"use strict";(function(e){n("e2f8"),n("921b");o(n("66fd"));var t=o(n("8af2"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},a4ab:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("254f"),i={data:function(){return{tel:"",password:"",captchaImg:"",verification:"",seconds:10,codeBtn:{text:"获取验证码",waitingCode:!1,count:this.seconds},SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,isCanUse:e.getStorageSync("isCanUse")||!0,encryptedData:"",iv:"",code:"",scene:""}},onLoad:function(e){var t=this;t.scene=decodeURIComponent(e.scene)},methods:{wxGetUserInfo:function(){var t=this;console.log(o(123," at pages\\register\\register.vue:63")),console.log(o("_this.scene---\x3e"+t.scene," at pages\\register\\register.vue:64"));var n=t.tel,i=t.password,r=t.verification;t.scene;if(n.length<11)e.showToast({icon:"none",title:"请输入手机号"});else if(0!=r.length)if(i.length<6)e.showToast({icon:"none",title:"密码最短为 6 个字符"});else{setTimeout(function(){e.hideLoading()},2e3),e.login({provider:"weixin",success:function(n){console.log(o("-------获取openid(unionid)-----"," at pages\\register\\register.vue:99")),console.log(o(JSON.stringify(n)," at pages\\register\\register.vue:100")),e.getUserInfo({provider:"weixin",success:function(n){if(console.log(o("-------获取微信用户所有-----"," at pages\\register\\register.vue:105")),console.log(o(JSON.stringify(n.userInfo)," at pages\\register\\register.vue:106")),"undefined"==t.scene){var i={username:t.tel,password:t.password,randomCode:t.verification,invite_code:"",avatarUrl:n.userInfo.avatarUrl,nickName:n.userInfo.nickName,gender:n.userInfo.gender,city:n.userInfo.city,province:n.userInfo.province,openId:n.userInfo.openId};console.log(o(i," at pages\\register\\register.vue:120")),e.request({url:"https://fenxiao.99zhifukeji.com/api/wechat/appregister",data:i,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(console.log(o(t," at pages\\register\\register.vue:127")),1==t.data.code){e.showToast({icon:"none",title:t.data.msg}),s.setHToken(t.data.data),e.setStorageSync("RESULT",t.data.data);var n=e.getStorageSync("RESULT");console.log(o(n," at pages\\register\\register.vue:136")),setTimeout(function(){plus.runtime.getProperty(plus.runtime.appid,function(e){if(console.log(o(JSON.stringify(e)," at pages\\register\\register.vue:139")),console.log(o(e.version," at pages\\register\\register.vue:140")),"Android"==plus.os.name){var t="market://details?id=九九智付";plus.runtime.openURL(t)}})},600)}else e.hideLoading(),setTimeout(function(){e.showToast({icon:"none",title:t.data.msg})},600)}})}else{var r={username:t.tel,password:t.password,randomCode:t.verification,invite_code:t.scene,avatarUrl:n.userInfo.avatarUrl,nickName:n.userInfo.nickName,gender:n.userInfo.gender,city:n.userInfo.city,province:n.userInfo.province,openId:n.userInfo.openId};console.log(o(r," at pages\\register\\register.vue:177")),e.request({url:"https://fenxiao.99zhifukeji.com/api/wechat/appregister",data:r,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(console.log(o(t," at pages\\register\\register.vue:184")),1==t.data.code){e.showToast({icon:"none",title:t.data.msg}),s.setHToken(t.data.data),e.setStorageSync("RESULT",t.data.data);var n=e.getStorageSync("RESULT");console.log(o(n," at pages\\register\\register.vue:196")),setTimeout(function(){plus.runtime.getProperty(plus.runtime.appid,function(e){if(console.log(o(JSON.stringify(e)," at pages\\register\\register.vue:199")),console.log(o(e.version," at pages\\register\\register.vue:200")),"Android"==plus.os.name){var t="market://details?id=九九智付";plus.runtime.openURL(t)}})},600)}else e.hideLoading(),setTimeout(function(){e.showToast({icon:"none",title:t.data.msg})},600)}})}}})}})}else e.showToast({icon:"none",title:"请输入正确的验证码"})},sendCodes:function(){var t=this,n=this.tel,i={tel:this.tel};if(console.log(o(i," at pages\\register\\register.vue:356")),n.length<11)e.showToast({icon:"none",title:"请输入正确的手机号"});else{this.codeBtn.waitingCode=!0,this.codeBtn.count=this.seconds,this.codeBtn.text=this.codeBtn.count+"s";var r=setInterval(function(){t.codeBtn.count--,t.codeBtn.text=t.codeBtn.count+"s",t.codeBtn.count<0&&(clearInterval(r),t.codeBtn.text="重新发送",t.codeBtn.waitingCode=!1)},1e3);s.sendcode(i,function(t){console.log(o(t," at pages\\register\\register.vue:379")),1==t.code?e.showToast({title:"发送成功,注意查收",icon:"none"}):e.showToast({icon:"none",title:t.msg})},function(t){e.hideLoading(),e.showToast({icon:"none",title:t.msg})})}},gotoLogin:function(){e.navigateTo({url:"/pages/public/login"})}},computed:{disableCodeBtn:function(){return this.codeBtn.waitingCode}}};t.default=i}).call(this,n("6e42")["default"],n("0de9")["default"])},bb39:function(e,t,n){}},[["9438","common/runtime","common/vendor"]]]);