(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"357b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,a=function(){Promise.all([n.e("common/vendor"),n.e("components/pick-regions/pick-regions")]).then(function(){return resolve(n("5cef"))}.bind(null,n)).catch(n.oe)},o=n("254f"),i={components:{pickRegions:a},data:function(){return{addressData:{receiver:"",phone:"",status:!1,area:"",regions:[]},defaultRegions:["北京市","市辖区","东城区"],type:""}},onLoad:function(t){s=this;var n="新增收货地址";s.type=t.type,"edit"===t.type&&(n="编辑收货地址",s.addressData=JSON.parse(t.data),"1"==s.addressData.status?s.addressData.status=!0:s.addressData.status=!1,s.addressData.phone=s.addressData.receive_tel),s.manageType=t.type,e.setNavigationBarTitle({title:n})},computed:{regionsName:function(){return this.addressData.regions.map((function(e){return e.name})).join(" ")}},methods:{addAddress:function(){},switchChange:function(e){console.log(e.detail),e.detail?this.addressData.status="1":this.addressData.status="0"},confirm:function(){if("edit"==s.type){var t={id:s.addressData.id,status:s.addressData.status,regions:s.addressData.regions,area:s.addressData.area,receiver:s.addressData.receiver,phone:s.addressData.phone};if(!t.receiver)return void this.$api.msg("请填写收货人姓名");if(!/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.phone))return void this.$api.msg("请输入正确的手机号码");if(t.regions.length<=0)return console.log(t.regions),void this.$api.msg("请在选择地址");if(!t.area)return void this.$api.msg("请填写门牌号信息");console.log(t),o.saveAddress(t,(function(t){console.log(t.data),1==t.code?(e.showToast({icon:"none",title:t.msg}),setTimeout((function(){e.navigateBack({url:"/pages/address/address"})}),1e3)):e.showToast({icon:"none",title:t.msg})}),(function(t){e.hideLoading(),e.showToast({icon:"none",title:t.errmsg})}))}else{var n=this.addressData;if(!n.receiver)return void this.$api.msg("请填写收货人姓名");if(!/(^1[3|4|5|7|8][0-9]{9}$)/.test(n.phone))return void this.$api.msg("请输入正确的手机号码");if(n.regions.length<=0)return console.log(n.regions),void this.$api.msg("请在选择地址");if(!n.area)return void this.$api.msg("请填写门牌号信息");o.addAddress(n,(function(t){console.log(t.data),1==t.code?(e.showToast({icon:"none",title:t.msg}),setTimeout((function(){e.navigateBack({url:"/pages/address/address"})}),1e3)):e.showToast({icon:"none",title:t.msg})}),(function(t){e.hideLoading(),e.showToast({icon:"none",title:t.errmsg})}))}},delBtn:function(){var t={id:this.addressData.id};console.log(t),o.deleteAddress(t,(function(t){console.log(t.data),1==t.code?(e.showToast({icon:"none",title:t.msg}),setTimeout((function(){e.navigateTo({url:"/pages/address/address"})}),1e3)):e.showToast({icon:"none",title:t.msg})}),(function(t){e.hideLoading(),e.showToast({icon:"none",title:t.errmsg})}))},handleGetRegions:function(e){this.addressData.regions=e}}};t.default=i}).call(this,n("543d")["default"])},5669:function(e,t,n){"use strict";var s={pickRegions:function(){return Promise.all([n.e("common/vendor"),n.e("components/pick-regions/pick-regions")]).then(n.bind(null,"5cef"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}))},"62da":function(e,t,n){"use strict";n.r(t);var s=n("357b"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o);t["default"]=a.a},a3fd:function(e,t,n){"use strict";var s=n("c90a"),a=n.n(s);a.a},c90a:function(e,t,n){},e6de:function(e,t,n){"use strict";(function(e){n("e2f8");s(n("66fd"));var t=s(n("fe2c"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},fe2c:function(e,t,n){"use strict";n.r(t);var s=n("5669"),a=n("62da");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("a3fd");var i,r=n("f0c5"),d=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],i);t["default"]=d.exports}},[["e6de","common/runtime","common/vendor"]]]);