(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"540d":function(e,t,n){},"60e2":function(e,t,n){"use strict";n.r(t);var o=n("a4ab"),a=n.n(o);for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t["default"]=a.a},"705c":function(e,t,n){"use strict";var o,a=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}))},"7c87":function(e,t,n){"use strict";var o=n("540d"),a=n.n(o);a.a},"8af2":function(e,t,n){"use strict";n.r(t);var o=n("705c"),a=n("60e2");for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);n("7c87");var i,s=n("f0c5"),d=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"1c3b2c14",null,!1,o["a"],i);t["default"]=d.exports},9438:function(e,t,n){"use strict";(function(e){n("e2f8");o(n("66fd"));var t=o(n("8af2"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},a4ab:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("254f"),a={data:function(){return{tel:"",password:"",captchaImg:"",verification:"",seconds:10,codeBtn:{text:"获取验证码",waitingCode:!1,count:this.seconds},SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,isCanUse:e.getStorageSync("isCanUse")||!0,encryptedData:"",iv:"",code:"",scene:""}},onLoad:function(e){var t=this;t.scene=decodeURIComponent(e.scene)},methods:{wxGetUserInfo:function(){var t=this;console.log(123),console.log("_this.scene---\x3e"+t.scene);var n=t.tel,a=t.password,c=t.verification;t.scene;if(n.length<11)e.showToast({icon:"none",title:"请输入手机号"});else if(0!=c.length)if(a.length<6)e.showToast({icon:"none",title:"密码最短为 6 个字符"});else{console.log("小程序"),e.login({success:function(n){console.log(n);var a=n.code;e.getUserInfo({provider:"weixin",success:function(n){console.log(n);var c=n.encryptedData,i=n.iv;if(e.showLoading({title:"登陆中...",mask:!1}),"undefined"==t.scene){var s={username:t.tel,password:t.password,randomCode:t.verification,encryptedData:c,iv:i,code:a,invite_code:""};console.log(s),e.request({url:"https://fenxiao.99zhifukeji.com/api/wechat/register",data:s,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(console.log(t),1==t.data.code){e.switchTab({url:"/pages/index/index"}),o.setHToken(t.data.data),e.setStorageSync("RESULT",t.data.data);var n=e.getStorageSync("RESULT");console.log(n)}else e.hideLoading(),setTimeout((function(){e.showToast({icon:"none",title:t.data.msg})}),600)}})}else{var d={username:t.tel,password:t.password,randomCode:t.verification,encryptedData:c,iv:i,code:a,invite_code:t.scene};console.log(d),e.request({url:"https://fenxiao.99zhifukeji.com/api/wechat/register",data:d,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(console.log(t),1==t.data.code){e.switchTab({url:"/pages/index/index"}),o.setHToken(t.data.data),e.setStorageSync("RESULT",t.data.data);var n=e.getStorageSync("RESULT");console.log(n)}else e.hideLoading(),setTimeout((function(){e.showToast({icon:"none",title:t.data.msg})}),600)}})}}})}})}else e.showToast({icon:"none",title:"请输入正确的验证码"})},sendCodes:function(){var t=this,n=this.tel,a={tel:this.tel};if(console.log(a),n.length<11)e.showToast({icon:"none",title:"请输入正确的手机号"});else{this.codeBtn.waitingCode=!0,this.codeBtn.count=this.seconds,this.codeBtn.text=this.codeBtn.count+"s";var c=setInterval((function(){t.codeBtn.count--,t.codeBtn.text=t.codeBtn.count+"s",t.codeBtn.count<0&&(clearInterval(c),t.codeBtn.text="重新发送",t.codeBtn.waitingCode=!1)}),1e3);o.sendcode(a,(function(t){console.log(t),1==t.code?e.showToast({title:"发送成功,注意查收",icon:"none"}):e.showToast({icon:"none",title:t.msg})}),(function(t){e.hideLoading(),e.showToast({icon:"none",title:t.msg})}))}},gotoLogin:function(){e.navigateTo({url:"/pages/public/login"})}},computed:{disableCodeBtn:function(){return this.codeBtn.waitingCode}}};t.default=a}).call(this,n("543d")["default"])}},[["9438","common/runtime","common/vendor"]]]);